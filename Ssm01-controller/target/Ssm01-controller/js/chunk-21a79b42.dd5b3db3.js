(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21a79b42"],{1384:function(e,t,n){},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var o=n("241e"),i=n("c3a1");n("ce7e")("keys",function(){return function(e){return i(o(e))}})},"454f":function(e,t,n){n("46a7");var o=n("584a").Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},"469f":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("7d7b")},"46a7":function(e,t,n){var o=n("63b6");o(o.S+o.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"5d73":function(e,t,n){e.exports=n("469f")},"7d7b":function(e,t,n){var o=n("e4ae"),i=n("7cd6");e.exports=n("584a").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},a21f:function(e,t,n){var o=n("584a"),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var o=n("36c3"),i=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return i(o(e),t)}})},c6ae:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 试卷管理")]),n("el-breadcrumb-item",[e._v("生成试卷")])],1)],1),n("div",{staticClass:"container",attrs:{align:"center"}},[n("div",{staticClass:"form-box"},[n("el-form",{ref:"form",attrs:{model:e.formLabelAlign,"label-width":"75px",inline:"true","label-position":"labelPosition"}},[n("el-form-item",{attrs:{label:"试卷类别"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.paperTypeId,callback:function(t){e.$set(e.form,"paperTypeId",t)},expression:"form.paperTypeId"}},e._l(e.paperTypeList,function(e){return n("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})}),1)],1),n("el-form-item",{attrs:{label:"试卷难度"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.paperDifficulty,callback:function(t){e.$set(e.form,"paperDifficulty",t)},expression:"form.paperDifficulty"}},[n("el-option",{key:"1",attrs:{label:"简单",value:"1"}}),n("el-option",{key:"2",attrs:{label:"中等",value:"2"}}),n("el-option",{key:"3",attrs:{label:"困难",value:"3"}})],1)],1),n("el-form-item",{attrs:{label:"试卷标题"}},[n("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:"autosize"},model:{value:e.form.paperName,callback:function(t){e.$set(e.form,"paperName",t)},expression:"form.paperName"}})],1),n("el-form-item",{attrs:{label:"出题类型(多选)","label-width":"120px"}},[n("el-checkbox-group",{on:{change:e.sortQuestionType},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},[n("el-checkbox",{attrs:{label:"单选题"}}),n("el-checkbox",{attrs:{label:"多选题"}}),n("el-checkbox",{attrs:{label:"判断题"}}),n("el-checkbox",{attrs:{label:"填空题"}}),n("el-checkbox",{attrs:{label:"主观题"}})],1)],1),e._l(e.questionType,function(t,o){return n("div",{staticClass:"text-left question"},[n("p",{staticClass:"float-left"},[e._v(e._s(t))]),n("p",{staticClass:"left_p"},[e._v("共"),n("span",{staticClass:"test_num"},[e._v(e._s(e.getInfoByType(t).easyNum+e.getInfoByType(t).mediumNum+e.getInfoByType(t).difficultNum))]),e._v("题 ，共 "),n("span",{staticClass:"all_fraction"},[e._v(e._s((e.getInfoByType(t).easyNum+e.getInfoByType(t).mediumNum+e.getInfoByType(t).difficultNum)*e.getInfoByType(t).questionScore))]),e._v(" 分数    每题分值："),n("InputNumber",{staticStyle:{width:"50px"},attrs:{min:"1"},model:{value:e.getInfoByType(t).questionScore,callback:function(n){e.$set(e.getInfoByType(t),"questionScore",n)},expression:"getInfoByType(questiontype).questionScore"}})],1),n("a",{staticClass:"questionBtn btn",on:{click:function(n){e.ifConfigure(t,o)}}},[e._v("抽取题目")]),n("p",[e._v("简单 "+e._s(e.getInfoByType(t).easyNum)+"，中等 "+e._s(e.getInfoByType(t).mediumNum)+"， 困难"+e._s(e.getInfoByType(t).difficultNum))]),n("Modal",{attrs:{title:"选择题库和题数","footer-hide":""},model:{value:e.modal[o],callback:function(t){e.$set(e.modal,o,t)},expression:"modal[index]"}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:function(n){e.changeChooseBankList(e.getInfoByType(t).chooseBankList,t)}},model:{value:e.getInfoByType(t).chooseBankList,callback:function(n){e.$set(e.getInfoByType(t),"chooseBankList",n)},expression:"getInfoByType(questiontype).chooseBankList"}},e._l(e.bankList,function(e){return n("el-option",{key:e.bankId,attrs:{label:e.bankName,value:e.bankId}})}),1),n("div",{staticClass:"setDifficultContent"},[n("p",[e._v("\n                                    简单：\n                                    "),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:e.bankQuestionNum.easyNum,size:"mini"},model:{value:e.getInfoByType(t).easyNum,callback:function(n){e.$set(e.getInfoByType(t),"easyNum",n)},expression:"getInfoByType(questiontype).easyNum"}}),e._v("\n                                    /\n                                    "),n("span",{staticClass:"difficult1_num"},[e._v(e._s(e.bankQuestionNum.easyNum))]),e._v("\n                                       \n                                ")],1),n("p",[e._v("\n                                    一般：\n                                    "),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:e.bankQuestionNum.mediumNum,size:"mini"},model:{value:e.getInfoByType(t).mediumNum,callback:function(n){e.$set(e.getInfoByType(t),"mediumNum",n)},expression:"getInfoByType(questiontype).mediumNum"}}),e._v("\n                                    /\n                                    "),n("span",{staticClass:"difficult2_num"},[e._v(e._s(e.bankQuestionNum.mediumNum))]),e._v("\n                                       \n                                ")],1),n("p",[e._v("\n                                    困难：\n                                    "),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:e.bankQuestionNum.difficultNum,size:"mini"},model:{value:e.getInfoByType(t).difficultNum,callback:function(n){e.$set(e.getInfoByType(t),"difficultNum",n)},expression:"getInfoByType(questiontype).difficultNum"}}),e._v("\n                                    /\n                                    "),n("span",{staticClass:"difficult3_num"},[e._v(e._s(e.bankQuestionNum.difficultNum))]),e._v("\n                                       \n                                ")],1)])],1)],1)}),n("el-form-item",[n("div",{staticStyle:{width:"500px"}},[n("div",{staticClass:"info-board"},[n("div",{staticClass:"total"},[n("p",[e._v("总题数："),n("span",{staticClass:"test_total"},[e._v(e._s(e.getAllQuestionNum))]),e._v("题")]),n("p",[e._v("当前总分："),n("span",{staticClass:"total_score"},[e._v(e._s(e.getAllQuestionScore))]),e._v("分")])])])])]),n("el-form-item",[n("div",{staticClass:"mt-2"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),n("el-button",[e._v("取消")])],1)])],2)],1)])])},i=[],a=(n("55dd"),n("f499")),r=n.n(a),s=n("5d73"),u=n.n(s),l=n("cebc"),c=(n("cadf"),n("551c"),n("097d"),n("2f62")),p=n("da9a"),f={name:"AddPaper",data:function(){return{modal:[!1,!1,!1,!1,!1],labelPosition:"left",questionNum:0,allQuestionScore:0,questionList:[],single:{easyNum:0,mediumNum:0,difficultNum:0,chooseBankList:[],questionScore:1},Multiple:{easyNum:0,mediumNum:0,difficultNum:0,chooseBankList:[],questionScore:1},Judgement:{easyNum:0,mediumNum:0,difficultNum:0,chooseBankList:[],questionScore:1},fillIn:{easyNum:0,mediumNum:0,difficultNum:0,chooseBankList:[],questionScore:1},Subjective:{easyNum:0,mediumNum:0,difficultNum:0,chooseBankList:[],questionScore:1},formLabelAlign:{},form:{paperTypeId:"",paperDifficulty:"",paperName:""},questionType:[],questionInfo:[{}],questionTypeOrder:["单选题","多选题","判断题","填空题","主观题"]}},components:{VueCropper:p["a"]},computed:Object(l["a"])({},Object(c["d"])(["bankList","paperTypeList","bankQuestionNum"]),{getAllQuestionNum:function(){this.questionNum=0;var e=!0,t=!1,n=void 0;try{for(var o,i=u()(this.questionType);!(e=(o=i.next()).done);e=!0){var a=o.value,r=this.getInfoByType(a);this.questionNum=this.questionNum+r.easyNum+r.mediumNum+r.difficultNum}}catch(s){t=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.questionNum},getAllQuestionScore:function(){this.allQuestionScore=0;var e=!0,t=!1,n=void 0;try{for(var o,i=u()(this.questionType);!(e=(o=i.next()).done);e=!0){var a=o.value,r=this.getInfoByType(a);this.allQuestionScore=this.allQuestionScore+(r.easyNum+r.mediumNum+r.difficultNum)*r.questionScore}}catch(s){t=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.allQuestionScore}}),methods:Object(l["a"])({},Object(c["b"])(["loadBanksAndPaperType","getQuestionQuantityByBank","addPaperInfo"]),Object(c["c"])(["SET_BANKQUESTION_NUM"]),{ifConfigure:function(e,t){this.$set(this.modal,t,!0);var n=this.getInfoByType(e);this.changeChooseBankList(n.chooseBankList,e)},getInfoByType:function(e){switch(e){case"单选题":return this.single;case"多选题":return this.Multiple;case"判断题":return this.Judgement;case"填空题":return this.fillIn;case"主观题":return this.Subjective}},changeChooseBankList:function(e,t){this.getQuestionQuantityByBank({idArray:r()(e),typeId:this.convetTypeId(t)})},onSubmit:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.sortQuestionType();var n=!0,o=!1,i=void 0;try{for(var a,s=u()(this.questionType);!(n=(a=s.next()).done);n=!0){var l=a.value,c=this.getInfoByType(l),p={idArray:r()(c.chooseBankList),typeId:this.convetTypeId(l),easyNum:c.easyNum,mediumNum:c.mediumNum,difficultNum:c.difficultNum,questionScore:c.questionScore,paperTypeId:this.form.paperTypeId,paperDifficulty:this.form.paperDifficulty,paperName:this.form.paperName,companyId:101};this.questionList.push(p)}}catch(f){o=!0,i=f}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}this.addPaperInfo({parameterArray:r()(this.questionList),paperTotalScore:this.getAllQuestionScore}).then(function(n){n?(e.$Message.success("试卷生成成功"),e.questionList=[],e.questionList.length=0,t.close(),e.$router.push({path:"/searchPaper"})):(e.$Message.error("试卷生成失败"),e.questionList=[],e.questionList.length=0,t.close())})},convetTypeId:function(e){switch(e){case"单选题":return 1;case"多选题":return 2;case"判断题":return 3;case"填空题":return 4;case"主观题":return 5}},sortQuestionType:function(){var e=this;this.questionType.sort(function(t,n){return e.questionTypeOrder.indexOf(t)-e.questionTypeOrder.indexOf(n)})}}),created:function(){this.loadBanksAndPaperType()}},m=f,y=(n("f98c"),n("2877")),d=Object(y["a"])(m,o,i,!1,null,"838720bc",null);d.options.__file="AddPaper.vue";t["default"]=d.exports},ce7e:function(e,t,n){var o=n("63b6"),i=n("584a"),a=n("294c");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},cebc:function(e,t,n){"use strict";var o=n("268f"),i=n.n(o),a=n("e265"),r=n.n(a),s=n("a4bb"),u=n.n(s),l=n("85f2"),c=n.n(l);function p(e,t,n){return t in e?c()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=u()(n);"function"===typeof r.a&&(o=o.concat(r()(n).filter(function(e){return i()(n,e).enumerable}))),o.forEach(function(t){p(e,t,n[t])})}return e}n.d(t,"a",function(){return f})},da9a:function(e,t,n){"use strict";var o=n("bab4"),i=n.n(o);n("6107");t["a"]={render(e){return e("div",{style:this.containerStyle},[e("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:[String,Array,Element,NodeList],responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted(){const{containerStyle:e,src:t,alt:n,imgStyle:o,...a}=this.$options.props,r={};for(const i in a)void 0!==this[i]&&(r[i]=this[i]);this.cropper=new i.a(this.$refs.img,r)},methods:{reset(){return this.cropper.reset()},clear(){return this.cropper.clear()},initCrop(){return this.cropper.crop()},replace(e,t=!1){return this.cropper.replace(e,t)},enable(){return this.cropper.enable()},disable(){return this.cropper.disable()},destroy(){return this.cropper.destroy()},move(e,t){return this.cropper.move(e,t)},moveTo(e,t=e){return this.cropper.moveTo(e,t)},relativeZoom(e,t){return this.cropper.zoom(e,t)},zoomTo(e,t){return this.cropper.zoomTo(e,t)},rotate(e){return this.cropper.rotate(e)},rotateTo(e){return this.cropper.rotateTo(e)},scaleX(e){return this.cropper.scaleX(e)},scaleY(e){return this.cropper.scaleY(e)},scale(e,t=e){return this.cropper.scale(e,t)},getData(e=!1){return this.cropper.getData(e)},setData(e){return this.cropper.setData(e)},getContainerData(){return this.cropper.getContainerData()},getImageData(){return this.cropper.getImageData()},getCanvasData(){return this.cropper.getCanvasData()},setCanvasData(e){return this.cropper.setCanvasData(e)},getCropBoxData(){return this.cropper.getCropBoxData()},setCropBoxData(e){return this.cropper.setCropBoxData(e)},getCroppedCanvas(e={}){return this.cropper.getCroppedCanvas(e)},setAspectRatio(e){return this.cropper.setAspectRatio(e)},setDragMode(e){return this.cropper.setDragMode(e)}}}},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},f499:function(e,t,n){e.exports=n("a21f")},f98c:function(e,t,n){"use strict";var o=n("1384"),i=n.n(o);i.a},fde4:function(e,t,n){n("bf90");var o=n("584a").Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}}}]);